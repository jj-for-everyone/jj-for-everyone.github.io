# Excluding files from version control

````admonish reset title="Reset your progress" collapsible=true
To reset your progress to the start of this chapter, run the following command:

```sh
curl https://jj-for-everyone.github.io/reset.sh | bash -s ignore
cd ~/jj-tutorial/repo
```
````

Let's switch to Bob's repository.

```sh
cd ~/jj-tutorial/repo-bob
```

Done with his part of the assignment, he's already thinking about the submission.
The teacher expects to receive a tarball called `submission_alice_bob.tar.gz`.
After a little [trial and error](https://xkcd.com/1168/), he comes up with the following command to create the tarball:

```sh
tar czf submission_alice_bob.tar.gz README.md
```

(Go ahead and run it!)

Bob wants to spare Alice the hassle of having to figure that out, in case she ends up making the final submission.
He decides to add it to the documentation:

```sh
echo "
## Submission

Run the following command to create the submission tarball:

~~~sh
tar czf submission_alice_bob.tar.gz [FILE...]
~~~" >> README.md
```

Bob is careful to push only clean commits to the remote shared with Alice.
(Be like Bob!)
He double-checks the content of his commit with `jj show`:

<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">596961f1e4aaa66f50b918902efbc839122184f4</span>
Change ID: <span class="purple ">vtkxsvmtporzvtpovlpqvytrpzxyuykn</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:40</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:59</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Modified regular file README.md:</span>
    ...
<span class="red ">   3</span> <span class="green ">   3</span>: The file hello.py contains a script that greets the world.
<span class="red ">   4</span> <span class="green ">   4</span>: It can be executed with the command 'python hello.py'.
<span class="red ">   5</span> <span class="green ">   5</span>: Programming is fun!
     <span class="green ">   6</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   7</span>: <span class="underline "></span><span class="underline green ">## Submission</span><span class="green "></span>
     <span class="green ">   8</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   9</span>: <span class="underline "></span><span class="underline green ">Run the following command to create the submission tarball:</span><span class="green "></span>
     <span class="green ">  10</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">  11</span>: <span class="underline "></span><span class="underline green ">~~~sh</span><span class="green "></span>
     <span class="green ">  12</span>: <span class="underline "></span><span class="underline green ">tar czf submission_alice_bob.tar.gz [FILE...]</span><span class="green "></span>
     <span class="green ">  13</span>: <span class="underline "></span><span class="underline green ">~~~</span><span class="green "></span>
<span class="yellow ">Added regular file submission_alice_bob.tar.gz:</span>
<span class="cyan ">    (binary)</span>
</pre>

Oh no! It looks like the result of Bob's research was recorded in the commit.
The tarball `submission_alice_bob.tar.gz` should not be tracked in version control.

To exclude files, use a `.gitignore` file. It can contain file names, directories, and patterns for files to ignore.

Add a pattern for tarballs to `.gitignore`. The `*` is a [glob](https://en.wikipedia.org/wiki/Glob_(programming)) that matches any filename.

```sh
echo "*.tar.gz" > .gitignore
```

````admonish info title="Ignoring files globally" collapsible=true
To ignore files across all projects, add them to a global ignore file. This is useful for editor-specific or OS-specific files like `.DS_Store` on macOS.

```sh
echo ".DS_Store" >> ~/.gitignore
```
````

Let's check the commit again.

<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">c9bc30b48922c767c553392709f212b8c0815ceb</span>
Change ID: <span class="purple ">vtkxsvmtporzvtpovlpqvytrpzxyuykn</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:40</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:41:13</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Added regular file .gitignore:</span>
     <span class="green ">   1</span>: <span class="underline "></span><span class="underline green ">*.tar.gz</span><span class="green "></span>
<span class="yellow ">Modified regular file README.md:</span>
    ...
<span class="red ">   3</span> <span class="green ">   3</span>: The file hello.py contains a script that greets the world.
<span class="red ">   4</span> <span class="green ">   4</span>: It can be executed with the command 'python hello.py'.
<span class="red ">   5</span> <span class="green ">   5</span>: Programming is fun!
     <span class="green ">   6</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   7</span>: <span class="underline "></span><span class="underline green ">## Submission</span><span class="green "></span>
     <span class="green ">   8</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   9</span>: <span class="underline "></span><span class="underline green ">Run the following command to create the submission tarball:</span><span class="green "></span>
     <span class="green ">  10</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">  11</span>: <span class="underline "></span><span class="underline green ">~~~sh</span><span class="green "></span>
     <span class="green ">  12</span>: <span class="underline "></span><span class="underline green ">tar czf submission_alice_bob.tar.gz [FILE...]</span><span class="green "></span>
     <span class="green ">  13</span>: <span class="underline "></span><span class="underline green ">~~~</span><span class="green "></span>
<span class="yellow ">Added regular file submission_alice_bob.tar.gz:</span>
<span class="cyan ">    (binary)</span>
</pre>

The tarball is still tracked. Jujutsu only considers `.gitignore` for new, untracked files.

To stop tracking an already-tracked file, use `jj file untrack`.

```sh
jj file untrack submission_alice_bob.tar.gz
```

The `untrack` command only works if the file is already listed in `.gitignore`.

Let's check the commit one more time.

<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">0f0015beb53d8c83f3bbcfe938a9bf031834c3e4</span>
Change ID: <span class="purple ">vtkxsvmtporzvtpovlpqvytrpzxyuykn</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:40</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:41:36</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Added regular file .gitignore:</span>
     <span class="green ">   1</span>: <span class="underline "></span><span class="underline green ">*.tar.gz</span><span class="green "></span>
<span class="yellow ">Modified regular file README.md:</span>
    ...
<span class="red ">   3</span> <span class="green ">   3</span>: The file hello.py contains a script that greets the world.
<span class="red ">   4</span> <span class="green ">   4</span>: It can be executed with the command 'python hello.py'.
<span class="red ">   5</span> <span class="green ">   5</span>: Programming is fun!
     <span class="green ">   6</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   7</span>: <span class="underline "></span><span class="underline green ">## Submission</span><span class="green "></span>
     <span class="green ">   8</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   9</span>: <span class="underline "></span><span class="underline green ">Run the following command to create the submission tarball:</span><span class="green "></span>
     <span class="green ">  10</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">  11</span>: <span class="underline "></span><span class="underline green ">~~~sh</span><span class="green "></span>
     <span class="green ">  12</span>: <span class="underline "></span><span class="underline green ">tar czf submission_alice_bob.tar.gz [FILE...]</span><span class="green "></span>
     <span class="green ">  13</span>: <span class="underline "></span><span class="underline green ">~~~</span><span class="green "></span>
</pre>

The commit is clean. Now, add a description.

```sh
jj commit -m "Add submission instructions"
```
